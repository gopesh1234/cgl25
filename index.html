<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SSC CGL English Practice</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      background: #0d6efd;
      color: white;
      text-align: center;
      padding: 1rem;
      font-size: 1.5rem;
    }

    nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.3);
      padding: 1rem;
      backdrop-filter: blur(10px);
    }

    nav button {
      padding: 0.6rem 1rem;
      border: none;
      background: #007bff;
      color: white;
      cursor: pointer;
      border-radius: 0.5rem;
      transition: background 0.3s ease;
      flex: 1 1 auto;
      min-width: 100px;
    }

    nav button.active {
      background: orange !important;
    }

    .filters {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem;
      backdrop-filter: blur(10px);
    }

    .calendar {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
      gap: 0.5rem;
      justify-content: center;
      width: 100%;
      max-width: 300px;
      margin-bottom: 1rem;
    }

    .calendar button {
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: none;
      background-color: #dee2e6;
      cursor: pointer;
    }

    .calendar button.active {
      background-color: #0d6efd;
      color: white;
    }

    .difficulty {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      justify-content: center;
    }

    .difficulty button {
      padding: 0.5rem 0.8rem;
      border-radius: 0.5rem;
      border: none;
      background-color: #dee2e6;
      cursor: pointer;
    }

    .difficulty button.active {
      background-color: #0d6efd;
      color: white;
    }

    .content {
      padding: 1rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .glass-box {
      background: rgba(255, 255, 255, 0.2);
      padding: 2rem;
      border-radius: 15px;
      backdrop-filter: blur(10px);
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
      width: 100%;
      max-width: 600px;
    }

    .question {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .options button {
      display: block;
      margin: 0.5rem 0;
      padding: 0.5rem;
      width: 100%;
      border-radius: 5px;
      border: 1px solid #ccc;
      cursor: pointer;
      background: #ffffffaa;
    }

    .correct {
      background: #d4edda !important;
    }

    .incorrect {
      background: #f8d7da !important;
    }

    .navigation {
      margin-top: 2rem;
      text-align: center;
    }

    .navigation button {
      padding: 0.5rem 1rem;
      margin: 0.3rem;
      border: none;
      background: #6c757d;
      color: white;
      border-radius: 0.5rem;
      cursor: pointer;
    }

    .day-label {
      font-weight: bold;
      text-align: center;
      margin-bottom: 1rem;
    }

    @@media screen and (max-width: 600px) {
      nav {
        flex-direction: column;
        align-items: stretch;
      }

      nav button {
        width: 100%;
      }

      .glass-box {
        padding: 1rem;
      }

      .calendar {
        grid-template-columns: repeat(6, 1fr);
      }
    }
  </style>
</head>
<body>
    <header>SSC CGL25</header>

    <nav>
        <button onclick="loadSection('idioms')" id="btn-idioms">Idioms</button>
        <button onclick="loadSection('ows')" id="btn-ows">OWS</button>
        <button onclick="loadSection('preposition')" id="btn-preposition">Prepo</button>
        <button onclick="loadSection('directIndirect')" id="btn-directIndirect">Narration</button>
        <button onclick="loadSection('vocab')" id="btn-vocab">Vocab</button>
        <button onclick="loadSection('voice')" id="btn-voice">Voice</button>
        <button onclick="loadSection('error')" id="btn-error">Error</button>
        <button onclick="loadSection('parajumble')" id="btn-parajumble">Para Jumble</button>
    </nav>

    <div class="filters">
        <div class="calendar" id="calendar"></div>
        <div class="difficulty" id="difficulty">
            <button onclick="setDifficulty('Easy')">Easy</button>
            <button onclick="setDifficulty('Medium')">Medium</button>
            <button onclick="setDifficulty('Hard')">Hard</button>
        </div>
    </div>

    <div class="content">
        <div class="glass-box">
            <div class="day-label" id="dayLabel"></div>
            <div class="question" id="question"></div>
            <div class="options" id="options"></div>
            <div class="navigation">
                <button onclick="prevQuestion()">Previous</button>
                <button onclick="nextQuestion()">Next</button>
            </div>
        </div>
    </div>

    <script>
        const questions = {
            idioms: [
                { day: 1, difficulty: 'Easy', q: "1. All Greek", options: ["strange", "incomprehensible", "inaudible", "uninteresting"], answer: 1 },
                { day: 1, difficulty: 'Easy', q: "2. Ace in the hole", options: ["A crucial resource that is hidden till its use is required", "A talented person who is chained by his circumstances", "A person who is considered a doyen in his field", "A person whose capabilities are limited to a particular field"], answer: 0 },

                { day: 1, difficulty: 'Medium', q: "1. Aboveboard", options: ["simple", "open", "decent", "friendly"], answer: 1 },
                {
                    day: 1, difficulty: 'Medium', q: "2. An axe to grind", options: 
                    ["To indulge in evil conspiracies",
                     "To catch a fish in disturbed water", 
                     "To make a personal profit out of a situation", 
                     "To aggravate the situation"
                    ], answer: 2 
                },

                { day: 1, difficulty: 'Hard', q: "1. All in a day's work", options: ["Even in routine work one can find instances of fun", "Something unusual or difficult accepted as part of someone's normal routine", "A lot of work which is done in just one day", "Work all day on a job that you love"], answer: 1 },

            ],
            ows: [
                { day: 1, difficulty: 'Easy', q: "A person who speaks many languages", options: ["Linguist", "Polyglot", "Grammarian", "Translator"], answer: 1 },
                { day: 2, difficulty: 'Medium', q: "One who never drinks alcohol", options: ["Teetotaler", "Sober", "Saint", "Drunkard"], answer: 0 },
            ],
            vocab: [
                { day: 1, difficulty: 'Medium', q: "Convene (Verb) -- बुलवाना", options: ["Come or bring together for a meeting or activity; assemble", "Make (someone) less angry or hostile", "Go or move back or further away from a previous position", "None of the above"], answer: 0 },
                { day: 1, difficulty: 'Medium', q: "Placate (Verb) -- तसलली देना", options: ["Make (someone) less angry or hostile", "Come or bring together for a meeting", "To provoke someone intentionally", "To advance aggressively"], answer: 0 },
                { day: 1, difficulty: 'Medium', q: "Recede (Verb) -- पीछे हटना", options: ["To approach something", "Go or move back from a previous position", "To summon people together", "To calm someone down"], answer: 1 },
            ],
        };

        let currentSection = localStorage.getItem("section") || "idioms";
        let currentIndex = 0;
        let selectedDay = parseInt(localStorage.getItem("selectedDay")) || 1;
        let selectedDifficulty = localStorage.getItem("selectedDifficulty") || "Easy";

        function loadSection(section) {
            currentSection = section;
            localStorage.setItem("section", section);
            currentIndex = 0;
            updateSectionHighlight();
            renderCalendar();
            renderQuestion();
        }

        function updateSectionHighlight() {
            document.querySelectorAll('nav button').forEach(btn => {
                btn.classList.remove('active');
            });
            const btn = document.getElementById(`btn-${currentSection}`);
            if (btn) btn.classList.add('active');
        }

        function renderCalendar() {
            const cal = document.getElementById("calendar");
            cal.innerHTML = "";
            for (let i = 1; i <= 30; i++) {
                const btn = document.createElement("button");
                btn.textContent = i;
                if (i === selectedDay) btn.classList.add("active");
                btn.onclick = () => {
                    selectedDay = i;
                    localStorage.setItem("selectedDay", i);
                    renderCalendar();
                    currentIndex = 0;
                    renderQuestion();
                };
                cal.appendChild(btn);
            }

            document.querySelectorAll(".difficulty button").forEach(btn => {
                btn.classList.toggle("active", btn.textContent === selectedDifficulty);
            });
        }

        function setDifficulty(level) {
            selectedDifficulty = level;
            localStorage.setItem("selectedDifficulty", level);
            renderCalendar();
            currentIndex = 0;
            renderQuestion();
        }

        function getFilteredQuestions() {
            return (questions[currentSection] || []).filter(q => q.day === selectedDay && q.difficulty === selectedDifficulty);
        }

        function renderQuestion() {
            const data = getFilteredQuestions();
            if (data.length === 0) {
                document.getElementById("question").textContent = "No questions found.";
                document.getElementById("options").innerHTML = "";
                return;
            }
            if (currentIndex >= data.length) currentIndex = 0;

            const currentQ = data[currentIndex];
            document.getElementById("dayLabel").textContent = `Day ${selectedDay} - ${selectedDifficulty}`;
            document.getElementById("question").textContent = currentQ.q;

            const optionsDiv = document.getElementById("options");
            optionsDiv.innerHTML = "";

            currentQ.options.forEach((opt, idx) => {
                const btn = document.createElement("button");
                btn.textContent = opt;
                btn.onclick = () => {
                    const isCorrect = idx === currentQ.answer;
                    btn.className = isCorrect ? 'correct' : 'incorrect';
                    if (!isCorrect) {
                        optionsDiv.children[currentQ.answer].className = 'correct';
                    }
                    // setTimeout(() => {
                    //     currentIndex++;
                    //     if (currentIndex >= data.length) currentIndex = 0;
                    //     renderQuestion();
                    // }, 5000);
                };
                optionsDiv.appendChild(btn);
            });
        }

        function nextQuestion() {
            const data = getFilteredQuestions();
            currentIndex = (currentIndex + 1) % data.length;
            renderQuestion();
        }

        function prevQuestion() {
            const data = getFilteredQuestions();
            currentIndex = (currentIndex - 1 + data.length) % data.length;
            renderQuestion();
        }

        window.onload = () => {
            updateSectionHighlight();
            renderCalendar();
            renderQuestion();
        };
    </script>
</body>
</html>
